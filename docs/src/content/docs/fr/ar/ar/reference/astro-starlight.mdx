---
title: Astro Starlight
description: Configurer votre site de documentation Starlight
sidebar:
  order: 9

---

import { Steps } from "@astrojs/starlight/components";

Vous pouvez utiliser cette procédure pour traduire le contenu d'un site de documentation [Astro Starlight](https://starlight.astro.build/). Cela nécessite une configuration spécifique de Starlight comme détaillé ci-dessous.

<Steps>
  1. Suivez le guide Starlight pour utiliser [la configuration d'une langue racine](https://starlight.astro.build/guides/i18n/#use-a-root-locale).

  2. Pour activer le mode Starlight, vous devez fournir une entrée `starlight_dir` dans la procédure.

     ```yaml title=".github/workflows/ct.yml" "starlight_dir: ./docs"
     uses: pelikhan/action-continuous-translation@v0
     with:
       starlight_dir: ./docs
     ```

  3. Si vous avez également configuré l'option \[Astro `base`] ([https://docs.astro.build/en/reference/configuration-reference/#base),](https://docs.astro.build/en/reference/configuration-reference/#base\)،)
     il faudra également fournir une entrée `starlight_base`.

     ```yaml title=".github/workflows/ct.yml" "starlight_base: astro_base_option"
     uses: pelikhan/action-continuous-translation@v0
     with:
       starlight_dir: ./docs
       starlight_base: astro_base_option
     ```
</Steps>

## Entrées Frontmatter prises en charge

En plus de Markdown/MDX, certaines métadonnées frontmatter supportées par Starlight sont également compatibles :

* [`title`](https://starlight.astro.build/reference/frontmatter/#title-required) : Titre de la page.
* [`description`](https://starlight.astro.build/reference/frontmatter/#description) : Description de la page.
* [`head.content`](https://starlight.astro.build/reference/frontmatter/#head) : Contenu des balises `<head>` pour des pages spécifiques.
* [`hero.tagline`](https://starlight.astro.build/reference/frontmatter/#hero) : Slogan de la section principale.
* [`hero.actions.text`](https://starlight.astro.build/reference/frontmatter/#hero) : Texte du bouton d'action dans la section principale.
* [`banner.content`](https://starlight.astro.build/reference/frontmatter/#banner) : Contenu de la bannière spécifique à la page.
* [`prev` / `prev.label`](https://starlight.astro.build/reference/frontmatter/#prev) : Texte du lien de la page précédente.
* [`next` / `next.label`](https://starlight.astro.build/reference/frontmatter/#next) : Texte du lien de la page suivante.
* [`sidebar.label`](https://starlight.astro.build/reference/frontmatter/#sidebar) : Texte personnalisé dans la barre latérale (par défaut `title`).
* [`sidebar.badge` / `sidebar.badge.text`](https://starlight.astro.build/reference/frontmatter/#badge) : Texte du badge pour la barre latérale.

Les entrées frontmatter du [Starlight Blog](https://starlight-blog-docs.vercel.app/) sont également prises en charge :

* [`excerpt`](https://starlight-blog-docs.vercel.app/guides/frontmatter/#excerpt) : Résumé de l'article de blog.

## Titre et barre latérale

Les entrées `title` et `sidebar` dans le frontmatter ne sont pas automatiquement traduites par la procédure. Il est recommandé de déplacer ces entrées dans un fichier JSON et de les importer dans votre fichier `astro.config.mjs`.

```ts title="astro.config.mjs" {2} /title(?=,)/
// other imports
import { title } from "./resources.json" assert { type: "json" };

export default defineConfig({
  integrations: [
    starlight({
      title,
    }),
  ],
});
```

Suivez la documentation spécifique concernant le [titre](https://starlight.astro.build/guides/i18n/#translate-the-site-title) et la [barre latérale](https://starlight.astro.build/guides/sidebar/) de Starlight pour plus de détails.

## Notification relative au contenu généré par l'IA

Vous pouvez informer les utilisateurs que la traduction a été générée par une intelligence artificielle en ajoutant une notification dans le titre. Pour le moment, Astro Starlight ne prend pas en charge cette fonctionnalité de manière native, ce qui nécessite un contournement de certains composants.

* [Remplacez](https://starlight.astro.build/guides/overriding-components/#how-to-override) les composants `PageTitle` et `Hero` dans votre fichier `astro.config.mjs` :

  ```ts title="astro.config.mjs"
  export default defineConfig({
    integrations: [
      starlight({
        components: {
          PageTitle: "./src/components/PageTitle.astro",
          Hero: "./src/components/Hero.astro",
        },
      }),
    ],
  });
  ```

* Ajoutez les composants au répertoire `src/components` [depuis `docs/src/components` dans ce référentiel](https://github.com/pelikhan/action-continuous-translation/tree/main/docs/src/components).

N'hésitez pas à modifier la logique dans le fichier `AIGeneratedNotice.astro` pour répondre à vos besoins.

## Validateur de liens Astro

Si vous utilisez le [validateur de liens Astro](https://github.com/HiDeoo/starlight-links-validator),
assurez-vous de désactiver l'option `errorOnRelativeLinks` dans votre fichier `astro.config.mjs`,
car les liens relatifs sont liés à la langue racine.

Vous pouvez également activer l'option `errorOnInconsistentLocale` pour vous assurer que tous les liens respectent la langue actuelle.

```js title="astro.config.mjs" "errorOnRelativeLinks: false"
import starlightLinksValidator from "starlight-links-validator";

export default defineConfig({
  integrations: [
    starlight({
      plugins: [
        starlightLinksValidator({
          errorOnRelativeLinks: false,
          errorOnInconsistentLocale: true,
        }),
      ],
    }),
  ],
});
```

## Tableau de bord de traduction Lunaria

Vous pouvez utiliser le [tableau de bord de traduction Lunaria](https://lunaria.dev/integrations/starlight/) pour créer un tableau de bord indiquant l'état de traduction de votre site Starlight.

Vous pouvez essayer le tableau de bord en accédant au lien **Tableau de bord de traduction** dans la barre latérale de cette page.
