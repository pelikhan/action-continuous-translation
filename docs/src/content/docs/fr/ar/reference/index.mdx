---
title: Référence
description: Documentation de référence pour l'action
sidebar:
  order: 8

---

L'action personnalisée utilise les [modèles GitHub](https://github.com/models) pour traduire les fichiers Markdown dans votre dépôt. Elle est conçue pour être utilisée dans les workflows [GitHub Actions](https://docs.github.com/en/actions) afin de traduire automatiquement les fichiers de documentation lors de leurs mises à jour.

```yaml title=".github/workflows/ct.yml"
- uses: pelikhan/action-continuous-translation@v0
  with:
    github_token: ${{ secrets.GITHUB_TOKEN }}
    lang: fr,es
```

## Installation

Vous pouvez enregistrer ce fichier dans le répertoire `.github/workflows/` sous le nom `ct.yml` :

```yaml title=".github/workflows/ct.yml" wrap
name: Continuous Translation
on:
  workflow_dispatch:
  # translate when doc files are changed in main
  push:
    branches:
      - main
    paths: # update the file paths
      - "README.md"
      - "docs/src/content/docs/**"
permissions:
  contents: write
  # allow the action to use the GitHub Models API
  models: read
concurrency:
  # cancel in-progress jobs for the same workflow and ref
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true
jobs:
  continuous_translation:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      # cache the LLM inference results
      - uses: actions/cache@v4
        with:
          path: .genaiscript/cache/**
          key: continuous-translation-${{ github.run_id }}
          restore-keys: |
            continuous-translation-
      # this is the translation action
      - uses: pelikhan/action-continuous-translation@v0
        continue-on-error: true # don't stop if translation fails, we still need to store the cache
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          lang: fr,es
      # commit the generated files
      - uses: stefanzweifel/git-auto-commit-action@v5
        with:
          file_pattern: "**.md* translations/**"
          commit_message: "[cai] translated docs"
          commit_user_name: "genaiscript"
```

## Paramètres

L'action `pelikhan/action-continuous-translation` dans GitHub prend en charge les paramètres suivants. Tous les paramètres sont facultatifs. Les valeurs par défaut sont répertoriées ci-dessous.

```yaml
with:
  lang: fr
  source: en
  files: README.md
  instructions:
  instructions_file:
  glossary_file:
  starlight_dir:
  starlight_base:
  force: false
  model_alias: |
    translate: github:gpt-4o-mini
  debug: false
```

Consultez les [modèles](../../reference/models/) pour plus de détails sur d'autres fournisseurs comme OpenAI et Azure OpenAI, etc.

### `lang`

**Type** : `string`\
**Valeur par défaut** : `fr`

Une liste de codes ISO pour les langues cibles, séparés par des virgules (`,`), dans lesquelles la documentation doit être traduite à partir de [la langue source](#source). Consultez la liste de toutes les langues prises en charge [dans le fichier `models.mts` du dépôt](https://github.com/pelikhan/action-continuous-translation/blob/main/genaisrc/src/models.mts).

### `source`

**Type** : `string`\
**Valeur par défaut** : `en`

Le code ISO de la langue source dans laquelle le contenu principal est rédigé.

### `files`

**Type** : `string`\
**Valeur par défaut** : `README.md`

Une liste des fichiers à traiter, séparés par des virgules.

### `instructions`

**Type** : `string`

Instructions supplémentaires à utiliser par le LLM pendant la traduction.

### `instructions_file`

**Type** : `string`

Chemin vers un fichier contenant des instructions supplémentaires pour le LLM pendant la traduction.

### `glossary_file`

**Type** : `string`

Chemin vers un fichier contenant un glossaire de termes à utiliser pendant la traduction.

### `translations_dir`

**Type** : `string`\
**Valeur par défaut** : `translations`

Le dossier où les traductions seront stockées.

### `starlight_dir`

**Type** : `string`

Le répertoire racine de la documentation [Astro Starlight](../../reference/astro-starlight/). Cela doit être défini si l'option [`starlight_base`](#starlight_base) est configurée.

### `starlight_base`

**Type** : `string`

Alias de base pour la documentation [Astro Starlight](../../reference/astro-starlight/). Si vous n'avez pas défini l'option [base pour Astro](https://docs.astro.build/en/reference/configuration-reference/#base), laissez ce champ vide.

### `force`

**Type** : `boolean`\
**Valeur par défaut** : `false`

Force la traduction même si le fichier a déjà été traduit.

### `debug`

**Type** : `boolean`\
**Valeur par défaut** : `false`

Activez le journal de débogage. Consultez plus de détails dans la [documentation sur le journal de GenAIScript](https://microsoft.github.io/genaiscript/reference/scripts/logging/).

### Alias de modèle

**Type** : `string`\
**Exemple** : `translate: github:gpt-4o-mini`

Attribuer des noms de modèles à leurs alias sous la forme d'un objet YAML. Cela permet de spécifier le modèle à utiliser pour une traduction donnée.

### `github_token`

**Type** : `string` (de préférence un secret)\
**Exemple** : `${{ secrets.GITHUB_TOKEN }}`

Votre [GitHub token](https://github.com/settings/tokens) avec au moins la permission `models: read`.

Consultez plus de détails dans la [documentation des permissions GitHub Models pour GenAIScript](https://microsoft.github.io/genaiscript/reference/github-actions/#github-models-permissions).

### Autres fournisseurs LLM

Vous pouvez également utiliser d'autres fournisseurs LLM comme OpenAI, Azure OpenAI, etc. Consultez les [modèles](../../reference/models/) pour plus de détails sur ces fournisseurs.
