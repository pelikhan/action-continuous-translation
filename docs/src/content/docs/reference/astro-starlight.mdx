---
title: Astro Starlight
description: Configuring your Starlight docs site
sidebar:
  order: 9
---

import { Steps } from "@astrojs/starlight/components";

This action can be used to translation the content of a [Astro Starlight](https://starlight.astro.build/) documentation site.
It requires a specific setup of Starlight as detailed below.

<Steps>

<ol>

<li>

Follow the Starlight guide to use a [root locale](https://starlight.astro.build/guides/i18n/#use-a-root-locale).

</li>

<li>

To enable the Starlight mode, you need to provide the `starlight_dir` input in the action.

```yaml title=".github/workflows/ct.yml" "starlight_dir: ./docs"
uses: pelikhan/action-continuous-translation@v0
with:
  starlight_dir: ./docs
```

</li>

<li>

If you have set the [Astro `base` option as well](https://docs.astro.build/en/reference/configuration-reference/#base),
you need to provide the `starlight_base` input as well.

```yaml title=".github/workflows/ct.yml" "starlight_base: astro_base_option"
uses: pelikhan/action-continuous-translation@v0
with:
  starlight_dir: ./docs
  starlight_base: astro_base_option
```

</li>

</ol>

</Steps>

## Supported Frontmatter entries

Aside from the Markdown/MDX, we support some of the possible frontmatter metadata that Starlight supports.

- `title`: The title of the page.
- `description`: The description of the page.
- `hero.tagline`: The tagline of the hero section.
- `hero.actions.action.text`: The text of the action button in the hero section.

We also support frontmatter entries from [Starlight Blog](https://starlight-blog-docs.vercel.app/)

- `excerpt`: A short excerpt of the page.

## AI Content Notice

You can inform your users that the translation was generated by GenAI by
adding a notice in the title. At this time, the Astro Starlight does not support a builtin feature to add notices
so it requires to override a few components.

- [Override](https://starlight.astro.build/guides/overriding-components/#how-to-override) the `PageTitle` and `Hero` components in your `astro.config.mjs` file:

  ```ts title="astro.config.mjs"
  export default defineConfig({
    integrations: [
      starlight({
        components: {
          PageTitle: "./src/components/PageTitle.astro",
          Hero: "./src/components/Hero.astro",
        },
      }),
    ],
  });
  ```

- Add the components in your `src/components` directory [from the `docs/src/components` in this repository](https://github.com/pelikhan/action-continuous-translation/tree/main/docs/src/components).

Feel free to modify the logic in `AIGeneratedNotice.astro` to fit your needs.

## Astro Link Validator

If you use the [Astro Link Validator](https://github.com/HiDeoo/starlight-links-validator),
make sure to disable `errorOnRelativeLinks` option in your `astro.config.mjs` file
as the localized links are relative to the root locale.

You can also enable the `errorOnInconsistentLocale` option to ensure that all links are consistent with the current locale.

```js title="astro.config.mjs" "errorOnRelativeLinks: false"
import starlightLinksValidator from "starlight-links-validator";

export default defineConfig({
  integrations: [
    starlight({
      plugins: [
        starlightLinksValidator({
          errorOnRelativeLinks: false,
          errorOnInconsistentLocale: true,
        }),
      ],
    }),
  ],
});
```

## Lunaria Translation Dashboard

You can use the [Lunaria Translation Dashboard](https://lunaria.dev/integrations/starlight/) to generate
a translation status dashboard for your Starlight site.

You can try the dashboard by naivagating to the **Translation Dashboard** link in the sidebar of this page.
