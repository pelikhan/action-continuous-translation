---
title: Astro Starlight
description: Configuring your Starlight docs site
sidebar:
  order: 9
---

import { Steps } from "@astrojs/starlight/components";

This action can be used to translation the content of a [Astro Starlight](https://starlight.astro.build/) documentation site.
It requires a specific setup of Starlight as detailed below.

<Steps>

1.  Follow the Starlight guide to use a [root locale](https://starlight.astro.build/guides/i18n/#use-a-root-locale).

2.  To enable the Starlight mode, you need to provide the `starlight_dir` input in the action.

    ```yaml title=".github/workflows/ct.yml" "starlight_dir: ./docs"
    uses: pelikhan/action-continuous-translation@v0
    with:
      starlight_dir: ./docs
    ```

3.  If you have set the [Astro `base` option as well](https://docs.astro.build/en/reference/configuration-reference/#base),
    you need to provide the `starlight_base` input as well.

    ```yaml title=".github/workflows/ct.yml" "starlight_base: astro_base_option"
    uses: pelikhan/action-continuous-translation@v0
    with:
      starlight_dir: ./docs
      starlight_base: astro_base_option
    ```

</Steps>

## Supported Frontmatter entries

Aside from the Markdown/MDX, we support some of the possible frontmatter metadata that Starlight supports:

- [`title`](https://starlight.astro.build/reference/frontmatter/#title-required): The title of the page.
- [`description`](https://starlight.astro.build/reference/frontmatter/#description): The description of the page.
- [`head.content`](https://starlight.astro.build/reference/frontmatter/#head): The content of `<head>` tags for specific pages.
- [`hero.tagline`](https://starlight.astro.build/reference/frontmatter/#hero): The tagline of the hero section.
- [`hero.actions.text`](https://starlight.astro.build/reference/frontmatter/#hero): The text of the action button in the hero section.
- [`banner.content`](https://starlight.astro.build/reference/frontmatter/#banner): The content of a page specific banner.
- [`prev` / `prev.label`](https://starlight.astro.build/reference/frontmatter/#prev): The link text of the previous page.
- [`next` / `next.label`](https://starlight.astro.build/reference/frontmatter/#next): The link text of the next page.
- [`sidebar.label`](https://starlight.astro.build/reference/frontmatter/#sidebar): Custom text in the sidebar (by default `title`).
- [`sidebar.badge` / `sidebar.badge.text`](https://starlight.astro.build/reference/frontmatter/#badge): Badge text for the sidebar.

We also support frontmatter entries from [Starlight Blog](https://starlight-blog-docs.vercel.app/):

- [`excerpt`](https://starlight-blog-docs.vercel.app/guides/frontmatter/#excerpt): The excerpt of the blog post.

## Title and Sidebar

The `title` and `sidebar` entries in the [Starlight configuration](https://starlight.astro.build/reference/configuration/) are not automatically translated by the action.
We recommend moving those entries to a JSON file and importing it into your `astro.config.mjs` file.

```ts title="astro.config.mjs" {2} /title(?=,)/
// other imports
import { title } from "./resources.json" assert { type: "json" };

export default defineConfig({
  integrations: [
    starlight({
      title,
    }),
  ],
});
```

Follow the specific [title docs](https://starlight.astro.build/guides/i18n/#translate-the-site-title) and [sidebar docs](https://starlight.astro.build/guides/sidebar/) from Starlight for further details.

## AI Content Notice

You can inform your users that the translation was generated by GenAI by
adding a notice in the title. At this time, the Astro Starlight does not support a builtin feature to add notices
so it requires to override a few components.

- [Override](https://starlight.astro.build/guides/overriding-components/#how-to-override) the `PageTitle` and `Hero` components in your `astro.config.mjs` file:

  ```ts title="astro.config.mjs"
  export default defineConfig({
    integrations: [
      starlight({
        components: {
          PageTitle: "./src/components/PageTitle.astro",
          Hero: "./src/components/Hero.astro",
        },
      }),
    ],
  });
  ```

- Add the components in your `src/components` directory [from the `docs/src/components` in this repository](https://github.com/pelikhan/action-continuous-translation/tree/main/docs/src/components).

Feel free to modify the logic in `AIGeneratedNotice.astro` to fit your needs.

## Starlight Link Validator

If you use the [Starlight Link Validator](https://github.com/HiDeoo/starlight-links-validator),
make sure to disable [`errorOnRelativeLinks`](https://starlight-links-validator.vercel.app/configuration#erroronrelativelinks) and
[`errorOnInvalidHashes`](https://starlight-links-validator.vercel.app/configuration#erroroninvalidhashes) options in your `astro.config.mjs` file
as the localized links are relative to the root locale and hashes do not get translated yet.

You can also enable the [`errorOnInconsistentLocale`](https://starlight-links-validator.vercel.app/configuration#erroroninconsistentlocale)
option to ensure that all links are consistent with the current locale.

```js title="astro.config.mjs" {8-10}
import starlightLinksValidator from "starlight-links-validator";

export default defineConfig({
  integrations: [
    starlight({
      plugins: [
        starlightLinksValidator({
          errorOnRelativeLinks: false,
          errorOnInvalidHashes: false,
          errorOnInconsistentLocale: true,
        }),
      ],
    }),
  ],
});
```

## Lunaria Translation Dashboard

You can use the [Lunaria Translation Dashboard](https://lunaria.dev/integrations/starlight/) to generate
a translation status dashboard for your Starlight site.

You can try the dashboard by navigating to the **Translation Dashboard** link in the sidebar of this page.
